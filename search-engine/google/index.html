<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Google Client - Serps - the PHP SERP Scraper</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/serps.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Serps - the PHP SERP Scraper</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../overview/">Overview</a>
</li>

                        
                            
<li >
    <a href="../../http-client/">Http Client</a>
</li>

                        
                            
<li >
    <a href="../../proxies/">Proxies</a>
</li>

                        
                            
<li >
    <a href="../../captcha/">Captcha</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Search Engine <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Google</a>
    <ul class="dropdown-menu">
        
            
<li class="active">
    <a href="./">Google Client</a>
</li>

        
            
<li >
    <a href="parameters/">Search Parameters</a>
</li>

        
            
<li >
    <a href="result-types/">Result Types</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../../captcha/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="parameters/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/serp-scrape/serps">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#google-client">Google Client</a></li>
        
            <li><a href="#installation">Installation</a></li>
        
            <li><a href="#overview">Overview</a></li>
        
            <li><a href="#working-with-urls">Working with urls</a></li>
        
            <li><a href="#parsing-results">Parsing results</a></li>
        
            <li><a href="#proxy-usage">Proxy usage</a></li>
        
            <li><a href="#solve-a-captcha">Solve a Captcha</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="google-client">Google Client</h1>
<h2 id="installation">Installation</h2>
<p>The google client is available with the package 
<a href="https://packagist.org/packages/serps/search-engine-google">serps/search-engine-google</a>: </p>
<p><code>$ composer require 'serps/search-engine-google'</code></p>
<h2 id="overview">Overview</h2>
<p>The google client needs an http client interface to be constructed and an url to be parsed</p>
<blockquote>
<p><sub>Overview of querying google for the keyword 'simpsons' and getting the natural results</sub></p>
</blockquote>
<pre><code class="php">    use Serps\SearchEngine\Google\GoogleClient;
    use Serps\HttpClient\CurlClient;
    use Serps\SearchEngine\Google\GoogleUrl;

    $googleClient = new GoogleClient(new CurlClient());

    $googleUrl = new GoogleUrl();
    $google-&gt;setSearchTerm('simpsons');

    $response = $googleClient-&gt;query($googleUrl);

    $results = $response-&gt;getNaturalResults();

    foreach($results as $result){
        $resultTitle = $result-&gt;getDataValue('title');
    }
</code></pre>

<h2 id="working-with-urls">Working with urls</h2>
<p><code>GoogleUrl</code> class offers many convenient tools to work with google urls.</p>
<h3 id="create-an-url">Create an url</h3>
<p>The builder offers the required tools to build an url from scratch</p>
<pre><code class="php">    use Serps\SearchEngine\Google\GoogleUrl;

    $googleUrl = new GoogleUrl();
    $googleUrl-&gt;setSearchTerm('simpsons');
    $googleUrl-&gt;setLanguageRestriction('lang_en');
    echo $googleUrl-&gt;buildUrl();
    // https://google.com/search?q=simpsons&amp;lr=lang_en
</code></pre>

<h3 id="import-an-url">Import an url</h3>
<p>It's possible to import an url from an existing google url string</p>
<pre><code class="php">    use Serps\SearchEngine\Google\GoogleUrl;

    $googleUrl = GoogleUrl::fromString('https://google.com/search?q=simpsons');
    echo $googleUrl-&gt;getSearchTerm();
    // simpsons
</code></pre>

<p>Additionally you can continue to manipulate this url</p>
<pre><code class="php">    $googleUrl-&gt;setLanguageRestriction('lang_en');
    echo $googleUrl-&gt;buildUrl();
    // https://google.com/search?q=simpsons&amp;lr=lang_en
</code></pre>

<h3 id="google-domain">Google domain</h3>
<p>By default an url is generated for <code>google.com</code> but you can choose any domain of your choice:</p>
<pre><code class="php">    use Serps\SearchEngine\Google\GoogleUrl;

    $googleUrl = new GoogleUrl('google.fr');
    $googleUrl-&gt;setSearchTerm('simpsons');
    echo $googleUrl-&gt;buildUrl();
    // https://google.fr/search?q=simpsons
</code></pre>

<p>It's also possible to modify it latter</p>
<pre><code class="php">    $googleUrl-&gt;setHost('google.de');
    echo $googleUrl-&gt;buildUrl();
    // https://google.de/search?q=simpsons
</code></pre>

<h3 id="add-and-remove-parameters">Add and remove parameters</h3>
<p>It's possible to add or remove parameters</p>
<pre><code class="php">    use Serps\SearchEngine\Google\GoogleUrl;

    $googleUrl = new GoogleUrl();
    $googleUrl-&gt;setParam('q', 'simpsons');
    $googleUrl-&gt;setParam('start', 11);
    echo $googleUrl-&gt;buildUrl();
    // https://google.com/search?q=simpsons&amp;start=11

    $googleUrl-&gt;removeParam('start');
    echo $googleUrl-&gt;buildUrl();
    // https://google.com/search?q=simpsons
</code></pre>

<h3 id="raw-parameters">Raw parameters</h3>
<p>By default parameters are encoded for urls. For instance <code>"Homer Simpsons"</code> will become <code>"Homer+Simpsons"</code>
but <code>"Homer+Simpsons"</code> will become <code>"Homer%2BSimpson"</code></p>
<pre><code class="php">    use Serps\SearchEngine\Google\GoogleUrl;

    $googleUrl = new GoogleUrl();
    $googleUrl-&gt;setParam('q', 'Homer+Simpson');
    echo $googleUrl-&gt;buildUrl();
    // https://google.com/search?q=Homer%2BSimpson
</code></pre>

<p>It's possible to deal with raw params, this way the param will be passed to the url with no additional encoding. 
That is achieved by passing true as the third argument of <code>setParam</code>.</p>
<pre><code class="php">    $googleUrl = new GoogleUrl();
    $googleUrl-&gt;setParam('q', 'Homer+Simpson', true);
    echo $googleUrl-&gt;buildUrl();
    // https://google.com/search?q=Homer+Simpson
</code></pre>

<h3 id="more-parameters">More parameters</h3>
<p>Some parameters are very common and for some of them we created convenient shortcuts
check our <a href="parameters/">list of parameters</a>.</p>
<h2 id="parsing-results">Parsing results</h2>
<p><strong>TODO</strong></p>
<h2 id="proxy-usage">Proxy usage</h2>
<p>You can use a proxy at the request time</p>
<blockquote>
<p><sub>Use the proxy '1.1.1.1:80'</sub></p>
</blockquote>
<pre><code class="php">    use Serps\SearchEngine\Google\GoogleClient;
    use Serps\HttpClient\CurlClient;
    use Serps\SearchEngine\Google\GoogleUrl;
    use Serps\Core\Http\Proxy;

    $googleClient = new GoogleClient(new CurlClient());

    $googleUrl = new GoogleUrl();
    $google-&gt;setSearchTerm('simpsons');

    $proxy = new Proxy('1.1.1.1', 8080);

    $response = $googleClient-&gt;query($googleUrl, $proxy);
</code></pre>

<p>Read the <a href="../../proxies">proxy documentation</a></p>
<h2 id="solve-a-captcha">Solve a Captcha</h2>
<p><strong>TODO</strong></p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
